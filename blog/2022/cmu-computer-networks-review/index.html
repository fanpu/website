<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>CMU 15-441/641 Computer Networks Course Review | Fan Pu  Zeng</title>
    <meta name="author" content="Fan Pu  Zeng">
    <meta name="description" content="Computer Networks is one of the lesser-known systems classes at Carnegie Mellon that turned out to be surprisingly fun and informative. In this post I'll talk about the projects and content covered, followed by my own thoughts on the usefulness on the class and who should take it.
">
    <meta name="keywords" content="fanpu, fan pu, fanpu zeng, fan pu zeng, zengfanpu, fanpuzeng, fzeng, CMU, cmu, carnegie mellon, cmu courses, school of computer science, scs, machine learning, computer science, ml, theory, courses, course reviews, CS, Jane Street">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    
    <!-- Sidebar Table of Contents -->
    <link href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css" rel="stylesheet">
    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon_new.ico">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://fanpu.io/blog/2022/cmu-computer-networks-review/">
    <!-- Dark Mode -->
    

    <!-- Twitter cards -->
    <meta name="twitter:site" content="@FanPu_Zeng">
    <meta name="twitter:creator" content="@fanpu">
    <meta name="og:title" content="CMU 15-441/641 Computer Networks Course Review">

    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="og:image" content="https://fanpu.io/assets/img/posts/mojave_national_preserve.webp">

    

    
    <meta name="og:description" content="Computer Networks is one of the lesser-known systems classes at Carnegie Mellon that turned out to be surprisingly fun and informative. In this post I'll talk about the projects and content covered, followed by my own thoughts on the usefulness on the class and who should take it.
">
    

    <!-- end of Twitter cards -->
  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Fan Pu </span>Zeng</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/courses/">CMU Course Reviews</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cmu-online/">CMU Online</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/summaries/">ML Paper Summaries</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">Repositories</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        
        <div class="row">
          <!-- sidebar, which will move to the top on a small screen -->
          <div class="col-sm-3">
            <nav id="toc-sidebar" class="sticky-top"></nav>
          </div>
          <!-- main content area -->
          <div class="col-sm-9">
            <!-- _layouts/post.html -->

<div class="post">

  <div style="display:none">
    $$
    \newcommand{\bone}{\mathbf{1}}
    \newcommand{\bbeta}{\mathbf{\beta}}
    \newcommand{\bdelta}{\mathbf{\delta}}
    \newcommand{\bepsilon}{\mathbf{\epsilon}}
    \newcommand{\blambda}{\mathbf{\lambda}}
    \newcommand{\bomega}{\mathbf{\omega}}
    \newcommand{\bpi}{\mathbf{\pi}}
    \newcommand{\bphi}{\mathbf{\phi}}
    \newcommand{\bvphi}{\mathbf{\varphi}}
    \newcommand{\bpsi}{\mathbf{\psi}}
    \newcommand{\bsigma}{\mathbf{\sigma}}
    \newcommand{\btheta}{\mathbf{\theta}}
    \newcommand{\btau}{\mathbf{\tau}}
    \newcommand{\ba}{\mathbf{a}}
    \newcommand{\bb}{\mathbf{b}}
    \newcommand{\bc}{\mathbf{c}}
    \newcommand{\bd}{\mathbf{d}}
    \newcommand{\be}{\mathbf{e}}
    \newcommand{\boldf}{\mathbf{f}}
    \newcommand{\bg}{\mathbf{g}}
    \newcommand{\bh}{\mathbf{h}}
    \newcommand{\bi}{\mathbf{i}}
    \newcommand{\bj}{\mathbf{j}}
    \newcommand{\bk}{\mathbf{k}}
    \newcommand{\bell}{\mathbf{\ell}}
    \newcommand{\bm}{\mathbf{m}}
    \newcommand{\bn}{\mathbf{n}}
    \newcommand{\bo}{\mathbf{o}}
    \newcommand{\bp}{\mathbf{p}}
    \newcommand{\bq}{\mathbf{q}}
    \newcommand{\br}{\mathbf{r}}
    \newcommand{\bs}{\mathbf{s}}
    \newcommand{\bt}{\mathbf{t}}
    \newcommand{\bu}{\mathbf{u}}
    \newcommand{\bv}{\mathbf{v}}
    \newcommand{\bw}{\mathbf{w}}
    \newcommand{\bx}{\mathbf{x}}
    \newcommand{\by}{\mathbf{y}}
    \newcommand{\bz}{\mathbf{z}}
    \newcommand{\bA}{\mathbf{A}}
    \newcommand{\bB}{\mathbf{B}}
    \newcommand{\bC}{\mathbf{C}}
    \newcommand{\bD}{\mathbf{D}}
    \newcommand{\bE}{\mathbf{E}}
    \newcommand{\bF}{\mathbf{F}}
    \newcommand{\bG}{\mathbf{G}}
    \newcommand{\bH}{\mathbf{H}}
    \newcommand{\bI}{\mathbf{I}}
    \newcommand{\bJ}{\mathbf{J}}
    \newcommand{\bK}{\mathbf{K}}
    \newcommand{\bL}{\mathbf{L}}
    \newcommand{\bM}{\mathbf{M}}
    \newcommand{\bN}{\mathbf{N}}
    \newcommand{\bP}{\mathbf{P}}
    \newcommand{\bQ}{\mathbf{Q}}
    \newcommand{\bR}{\mathbf{R}}
    \newcommand{\bS}{\mathbf{S}}
    \newcommand{\bT}{\mathbf{T}}
    \newcommand{\bU}{\mathbf{U}}
    \newcommand{\bV}{\mathbf{V}}
    \newcommand{\bW}{\mathbf{W}}
    \newcommand{\bX}{\mathbf{X}}
    \newcommand{\bY}{\mathbf{Y}}
    \newcommand{\bZ}{\mathbf{Z}}

    \newcommand{\bsa}{\boldsymbol{a}}
    \newcommand{\bsb}{\boldsymbol{b}}
    \newcommand{\bsc}{\boldsymbol{c}}
    \newcommand{\bsd}{\boldsymbol{d}}
    \newcommand{\bse}{\boldsymbol{e}}
    \newcommand{\bsoldf}{\boldsymbol{f}}
    \newcommand{\bsg}{\boldsymbol{g}}
    \newcommand{\bsh}{\boldsymbol{h}}
    \newcommand{\bsi}{\boldsymbol{i}}
    \newcommand{\bsj}{\boldsymbol{j}}
    \newcommand{\bsk}{\boldsymbol{k}}
    \newcommand{\bsell}{\boldsymbol{\ell}}
    \newcommand{\bsm}{\boldsymbol{m}}
    \newcommand{\bsn}{\boldsymbol{n}}
    \newcommand{\bso}{\boldsymbol{o}}
    \newcommand{\bsp}{\boldsymbol{p}}
    \newcommand{\bsq}{\boldsymbol{q}}
    \newcommand{\bsr}{\boldsymbol{r}}
    \newcommand{\bss}{\boldsymbol{s}}
    \newcommand{\bst}{\boldsymbol{t}}
    \newcommand{\bsu}{\boldsymbol{u}}
    \newcommand{\bsv}{\boldsymbol{v}}
    \newcommand{\bsw}{\boldsymbol{w}}
    \newcommand{\bsx}{\boldsymbol{x}}
    \newcommand{\bsy}{\boldsymbol{y}}
    \newcommand{\bsz}{\boldsymbol{z}}
    \newcommand{\bsA}{\boldsymbol{A}}
    \newcommand{\bsB}{\boldsymbol{B}}
    \newcommand{\bsC}{\boldsymbol{C}}
    \newcommand{\bsD}{\boldsymbol{D}}
    \newcommand{\bsE}{\boldsymbol{E}}
    \newcommand{\bsF}{\boldsymbol{F}}
    \newcommand{\bsG}{\boldsymbol{G}}
    \newcommand{\bsH}{\boldsymbol{H}}
    \newcommand{\bsI}{\boldsymbol{I}}
    \newcommand{\bsJ}{\boldsymbol{J}}
    \newcommand{\bsK}{\boldsymbol{K}}
    \newcommand{\bsL}{\boldsymbol{L}}
    \newcommand{\bsM}{\boldsymbol{M}}
    \newcommand{\bsN}{\boldsymbol{N}}
    \newcommand{\bsP}{\boldsymbol{P}}
    \newcommand{\bsQ}{\boldsymbol{Q}}
    \newcommand{\bsR}{\boldsymbol{R}}
    \newcommand{\bsS}{\boldsymbol{S}}
    \newcommand{\bsT}{\boldsymbol{T}}
    \newcommand{\bsU}{\boldsymbol{U}}
    \newcommand{\bsV}{\boldsymbol{V}}
    \newcommand{\bsW}{\boldsymbol{W}}
    \newcommand{\bsX}{\boldsymbol{X}}
    \newcommand{\bsY}{\boldsymbol{Y}}
    \newcommand{\bsZ}{\boldsymbol{Z}}

    \newcommand{\calA}{\mathcal{A}}
    \newcommand{\calB}{\mathcal{B}}
    \newcommand{\calC}{\mathcal{C}}
    \newcommand{\calD}{\mathcal{D}}
    \newcommand{\calE}{\mathcal{E}}
    \newcommand{\calF}{\mathcal{F}}
    \newcommand{\calG}{\mathcal{G}}
    \newcommand{\calH}{\mathcal{H}}
    \newcommand{\calI}{\mathcal{I}}
    \newcommand{\calJ}{\mathcal{J}}
    \newcommand{\calK}{\mathcal{K}}
    \newcommand{\calL}{\mathcal{L}}
    \newcommand{\calM}{\mathcal{M}}
    \newcommand{\calN}{\mathcal{N}}
    \newcommand{\calO}{\mathcal{O}}
    \newcommand{\calP}{\mathcal{P}}
    \newcommand{\calQ}{\mathcal{Q}}
    \newcommand{\calR}{\mathcal{R}}
    \newcommand{\calS}{\mathcal{S}}
    \newcommand{\calT}{\mathcal{T}}
    \newcommand{\calU}{\mathcal{U}}
    \newcommand{\calV}{\mathcal{V}}
    \newcommand{\calW}{\mathcal{W}}
    \newcommand{\calX}{\mathcal{X}}
    \newcommand{\calY}{\mathcal{Y}}
    \newcommand{\calZ}{\mathcal{Z}}

    \newcommand{\R}{\mathbb{R}}
    \newcommand{\C}{\mathbb{C}}
    \newcommand{\N}{\mathbb{N}}
    \newcommand{\Z}{\mathbb{Z}}
    \newcommand{\F}{\mathbb{F}}
    \newcommand{\Q}{\mathbb{Q}}

    \DeclareMathOperator*{\argmax}{arg\,max}
    \DeclareMathOperator*{\argmin}{arg\,min}
    \newcommand{\nnz}[1]{\mbox{nnz}(#1)}
    \newcommand{\dotprod}[2]{\langle #1, #2 \rangle}

    \newcommand{\ignore}[1]{}

    \let\Pr\relax
    \DeclareMathOperator*{\Pr}{\mathbf{Pr}}
    \newcommand{\E}{\mathbb{E}}
    \DeclareMathOperator*{\Ex}{\mathbf{E}}
    \DeclareMathOperator*{\Var}{\mathbf{Var}}
    \DeclareMathOperator*{\Cov}{\mathbf{Cov}}
    \DeclareMathOperator*{\stddev}{\mathbf{stddev}}
    \DeclareMathOperator*{\avg}{avg}

    \DeclareMathOperator{\poly}{poly}
    \DeclareMathOperator{\polylog}{polylog}
    \DeclareMathOperator{\size}{size}
    \DeclareMathOperator{\sgn}{sgn}
    \DeclareMathOperator{\dist}{dist}
    \DeclareMathOperator{\vol}{vol}
    \DeclareMathOperator{\spn}{span}
    \DeclareMathOperator{\supp}{supp}
    \DeclareMathOperator{\tr}{tr}
    \DeclareMathOperator{\Tr}{Tr}
    \DeclareMathOperator{\codim}{codim}
    \DeclareMathOperator{\diag}{diag}

    \newcommand{\PTIME}{\mathsf{P}}
    \newcommand{\LOGSPACE}{\mathsf{L}}
    \newcommand{\ZPP}{\mathsf{ZPP}}
    \newcommand{\RP}{\mathsf{RP}}
    \newcommand{\BPP}{\mathsf{BPP}}
    \newcommand{\P}{\mathsf{P}}
    \newcommand{\NP}{\mathsf{NP}}
    \newcommand{\TC}{\mathsf{TC}}
    \newcommand{\AC}{\mathsf{AC}}
    \newcommand{\SC}{\mathsf{SC}}
    \newcommand{\SZK}{\mathsf{SZK}}
    \newcommand{\AM}{\mathsf{AM}}
    \newcommand{\IP}{\mathsf{IP}}
    \newcommand{\PSPACE}{\mathsf{PSPACE}}
    \newcommand{\EXP}{\mathsf{EXP}}
    \newcommand{\MIP}{\mathsf{MIP}}
    \newcommand{\NEXP}{\mathsf{NEXP}}
    \newcommand{\BQP}{\mathsf{BQP}}
    \newcommand{\distP}{\mathsf{dist\textbf{P}}}
    \newcommand{\distNP}{\mathsf{dist\textbf{NP}}}

    \newcommand{\eps}{\epsilon}
    \newcommand{\lam}{\lambda}
    \newcommand{\dleta}{\delta}
    \newcommand{\simga}{\sigma}
    \newcommand{\vphi}{\varphi}
    \newcommand{\la}{\langle}
    \newcommand{\ra}{\rangle}
    \newcommand{\wt}[1]{\widetilde{#1}}
    \newcommand{\wh}[1]{\widehat{#1}}
    \newcommand{\ol}[1]{\overline{#1}}
    \newcommand{\ul}[1]{\underline{#1}}
    \newcommand{\ot}{\otimes}
    \newcommand{\zo}{\{0,1\}}
    \newcommand{\co}{:} %\newcommand{\co}{\colon}
    \newcommand{\bdry}{\partial}
    \newcommand{\grad}{\nabla}
    \newcommand{\transp}{^\intercal}
    \newcommand{\inv}{^{-1}}
    \newcommand{\symmdiff}{\triangle} \newcommand{\symdiff}{\symmdiff}
    \newcommand{\half}{\tfrac{1}{2}}
    \newcommand{\bbone}{\mathbbm 1}
    \newcommand{\Id}{\bbone}

    \newcommand{\SAT}{\mathsf{SAT}}

    \newcommand{\bcalG}{\boldsymbol{\calG}}
    \newcommand{\calbG}{\bcalG}
    \newcommand{\bcalX}{\boldsymbol{\calX}} \newcommand{\calbX}{\bcalX}
    \newcommand{\bcalY}{\boldsymbol{\calY}} \newcommand{\calbY}{\bcalY}
    \newcommand{\bcalZ}{\boldsymbol{\calZ}} \newcommand{\calbZ}{\bcalZ}
    $$
</div>

  <header class="post-header">
    <h1 class="post-title">CMU 15-441/641 Computer Networks Course Review</h1>
    <p class="post-meta">August 15, 2022• fanpu</p>
    <p class="post-tags">
      <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a>
        ·  
        <a href="/blog/tag/courses">
          <i class="fas fa-hashtag fa-sm"></i> courses</a>  
          <a href="/blog/tag/systems">
          <i class="fas fa-hashtag fa-sm"></i> systems</a>  
          

    </p>
  </header>

  
      <figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/mojave_national_preserve.webp" class="preview z-depth-1 rounded center" width="100%" height="450px" alt="post.cover" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>
</figure>

    <div class="caption">
        Mojave National Preserve, California, USA
    </div>
  

  <article class="post-content">
    
    <div id="markdown-content">
      <p>Computer Networks is one of the lesser-known systems classes at Carnegie Mellon
that turned out to be surprisingly fun and informative. In this post I’ll talk
about the projects and content covered, followed by my own thoughts on the
usefulness on the class and who should take it.</p>

<h2 id="projects">Projects</h2>

<h3 id="project-1-a-web-server-called-liso">Project 1: A Web Server Called Liso</h3>

<p>The first project involved writing a HTTP web server in <code class="language-plaintext highlighter-rouge">C</code> using the Berkeley
Sockets API that serves content from a <code class="language-plaintext highlighter-rouge">www</code> directory, including dynamic <code class="language-plaintext highlighter-rouge">CGI</code>
scripts. The implementation details were largely unspecified, we were instead
directed to refer to the specifications for HTTP 1.1 outlined in <a href="http://www.ietf.org/rfc/rfc2616.txt" rel="external nofollow noopener" target="_blank">RFC
2616</a> and to make our best judgment based
on that. Given the finite length of the RFC but the infinite weird requests that
users can come up to mess with your web server, a lot of care must be taken to
guard against edge cases. This was the first time that I properly read an RFC,
and I found it surprisingly well-organized.</p>

<p>You should take particular care to write code that is correct, modular, and
readable, because a lot of your code in this project will be re-used in <a href="#checkpoint-1-adaptive-bitrate-proxy">Project
3</a>.</p>

<h3 id="project-2-tcp-in-the-wild">Project 2: TCP in the Wild</h3>
<p>The second project was my favorite, and it involved implementing TCP on top of
UDP with the Reno congestion control protocol together with a partner.  This was
followed by an analysis of how the protocol can be improved by performing data
transfer between a client and server using our TCP stack, and then using
<code class="language-plaintext highlighter-rouge">tcpdump</code> to perform packet capture and generate network I/O graphs. We
performed close analysis on the TCP sawtooth patterns on these graphs, to come
up with our own TCP congestion control protocol that has to non-trivially
improve on both throughput and Jain’s Fairness Index (for fairness when multiple
connections connect on the same link) as compared to TCP Reno.</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/tcp_reno_state_diagram.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      TCP Reno Congestion Control State Diagram
    </figcaption>
</figure>

<h3 id="project-3-video-delivery">Project 3: Video Delivery</h3>

<p>The final project comprises two independent checkpoints: writing an adaptive
bitrate proxy, and writing a load balancer. We had the option to only complete
the adaptive bitrate proxy if we are working individually, or otherwise do both
if we work in pairs. Almost everyone in the class opted to do just the first
checkpoint solo. Since I had already written load balancers twice, once for
15-319 Cloud Computing and once for 15-440 Distributed Systems, I also chose to
do the same.</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/networks_p3.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Relationship between the proxy and the load balancer, taken from the writeup
    </figcaption>
</figure>

<p>The relationship between the adaptive bitrate proxy and the load balancer is
given in the graph above.</p>

<h4 id="checkpoint-1-adaptive-bitrate-proxy">Checkpoint 1: Adaptive Bitrate Proxy</h4>
<p>This is known as the “Netflix” project, where you have to write a web proxy for
video streaming.  You will most likely re-use a lot of your code from the web
server you wrote in <a href="project-1-a-web-server-called-liso">Project-1</a> to save
time. Browsers will connect to your web proxy and request video chunks, and your
proxy will dynamically adjust the bitrate of the video chunks sent to clients
depending on their network conditions. This requires you to perform network
throughput estimation with an exponentially weighted moving average for
smoothing.  Finally, you will also investigate how the proxy performs with
multiple clients in terms of link utilization, fairness, and smoothness in a
Docker environment with simulated network conditions.</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/big_buck_bunny.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      A still from Big Buck Bunny
    </figcaption>
</figure>

<p>You will probably watch <a href="https://www.youtube.com/watch?v=YE7VzlLtp-4" rel="external nofollow noopener" target="_blank">Big Buck
Bunny</a> many many times while
testing, which is the video that is used for streaming. The choice is because
Big Buck Bunny is an open-source film from the <a href="https://www.blender.org/" rel="external nofollow noopener" target="_blank">Blender
Foundation</a>, ensuring that the course does not run
into any copyright problems. I have to admit I was very impressed by the visuals
and did not know that Blender was capable of such high-quality animation, based
on my very limited experience with doing 3D modeling with it back in middle
school.</p>

<p>I felt that this project was the simplest, as the design space is relatively
constrained and there are not that many areas where you can go wrong. It was
also a lot of fun to see your video proxy work for the first time and to see it
change the quality of video streaming in real-time.</p>

<h4 id="checkpoint-2-flow-level-load-balancer">Checkpoint 2: Flow-Level Load Balancer</h4>
<p>Note that I did not do this checkpoint, so whatever I say here is based on my
interpretation of the write-up.</p>

<p>In this checkpoint, you will write a load balancer with two different load
balancing algorithms. The load balancer will operate on the level of TCP flows.</p>

<p>The first algorithm uses consistent hashing, which has the advantage that even
when the hash table gets resized (say when servers are removed or added), only
\(n/m\) flows need to be remapped, where \(n\) is the number of flows and \(m\)
is the number of servers. One limitation of this approach is that it may not
distribute the actual load evenly, as some clients may request more data than
others.</p>

<p>The second algorithm aims to address this shortcoming by being load-sensitive.
This means that the load balancer must track the amount of load each server is
currently servicing, and direct new TCP flows accordingly.</p>

<h3 id="finding-a-bug-in-the-project-2-autograder">Finding a bug in the Project 2 Autograder</h3>
<p>An interesting thing that happened during this project was that I found a race
condition bug in the autograder for this project. When we went from the first
checkpoint that checked for the implementation of the TCP three-way handshake
and RTT estimation to the second checkpoint that required the implementation of
the rest of the TCP state diagram, we began to fail a few very basic tests. The
autograder claimed that we did not complete a TCP handshakes after a <code class="language-plaintext highlighter-rouge">SYN</code>
packet was sent by the client. This completely puzzled me as our TCP
implementation was able to complete the handshakes on many of the other
occasions and proceed with multiple file transfers followed by teardown, and we
should not have any regressions from the first checkpoint. I performed a lot of
manual testing with <a href="https://scapy.net/" rel="external nofollow noopener" target="_blank">scapy</a> and
<a href="https://www.wireshark.org/" rel="external nofollow noopener" target="_blank">Wireshark</a>, and could not see that we were doing
anything wrong.</p>

<p>Eventually, as I have already been debugging non-stop for 4 days and the TAs
also could not identify any issues, I wrote a reverse shell out of exasperation
to check the grading scripts, which ran when my code was being executed by the
autograder. It turns out that the grading harness executes the grading client
and causes it to send the initiation <code class="language-plaintext highlighter-rouge">SYN</code> packet via UDP on the wire
immediately after the server subprocess is started. As such, if the packet gets
sent before the server has managed to <code class="language-plaintext highlighter-rouge">bind</code>, it will be lost (our goal is to
write a reliable transmission protocol, after all!). We were particularly
susceptible to triggering this race because we performed a non-trivial amount of
metadata setup before <code class="language-plaintext highlighter-rouge">bind</code>, which involved numerous memory allocation calls
and <code class="language-plaintext highlighter-rouge">memset</code>’s that would have likely generated expensive page faults.
Re-ordering these operations made the problems go away, but I also made sure to
let the course staff know about the issue. This incident made me realize that
course infrastructure can have problems too, so don’t always assume it’s your
fault (although it probably is most of the time).</p>

<h2 id="course-content">Course Content</h2>

<p>All the lecture slides are posted online, so you can get a pretty good idea of
what is covered from the <a href="https://computer-networks.github.io/fa21/schedule.html" rel="external nofollow noopener" target="_blank">course
schedule</a> page.</p>

<p>The areas that I had no idea about before taking this course were inter-domain
routing (autonomous services, BGP), video streaming protocols and techniques,
datacenter networks and network function virtualization, and how WiFi and mobile
cellular networks work. I was genuinely surprised at how many blind spots I had
in this regard as I have already taken quite a fair amount of systems classes by
then.  For the other topics, I had some exposure from day-to-day Linux usage and
debugging network issues, CTF problems, and internship experience, but the
lectures helped to deepen my understanding and reinforce my existing knowledge
significantly.</p>

<h2 id="my-thoughts">My Thoughts</h2>

<p>I felt that this course was very different from any of the other systems classes
that I have taken, which usually swing between either being very micro-level
such as OS (15-410) where a lot of emphases is on concurrency and the things
happening at the hardware/software interface, or macro-level such as Distributed
Systems (15-440) where you care about things like distributed cache consistency
and permissionless distributed consensus protocols.</p>

<p>On the other hand, in Computer Networks you are thrust into the bizarre
situation of having to contend with algorithms and protocols that evolved from
many wildly different considerations. In fact, the professor once mentioned that
if you want to talk to someone who is an expert in routing or shortest path
graph problems, don’t go to the mathematics department, but come talk to a
computer networks researcher.</p>

<p>First, you have the usual culprit of historical short-sightedness (or shall we
say, the disappointing lack of ability to predict the future). For instance,
IPv4 used to be a very complicated protocol that was designed to be extensible.
But then many years later people realized that they wanted things to be fast,
and for things to be fast they had to be simple. One particularly bad culprit
was the IP fragmentation fields, which introduced a lot of complex logic about
splitting up and re-creating packets into the router which slowed things down
considerably. In IPv6, this, among many other things was completely removed,
allowing simple packet processing logic to be baked into the router hardware.</p>

<p>Then there is also the problem of the tragedy of the masses, or political will,
or whatever else you want to call it.  Despite all the downsides of IPv4, IPv6
adoption is still poor because it requires hardware support and as long as there
are still people using IPv4 devices, backward compatibility must be maintained
and so there is no great immediate short-term gain. It really makes you
appreciate how wonderful life would be if we could just always get things right
on the first try.</p>

<p>Next, you also have strong commercial interests, which is no surprise
considering how much of the digital economy is powered by the internet.</p>

<p>On the producer side, we know that internet service providers are a type of
autonomous systems that form the backbone of the internet. Autonomous systems
(AS) are entities distinguished into different tiers (global, regional/national,
local) that provide internet access to the end-user. When are AS’s incentivized
to carry packets for other AS’s? Why should they advertise certain routes if it
means having to take on more load on behalf of other entities? When and how do
they peer with other AS’s to take shortcuts in the network? The answer all
ultimately lies in whether they can find a way to make money off of it.</p>

<p>On the considerations for the consumer side of things, how do producers provide
different levels of Quality of Service (QoS) depending on the internet
subscription tier that the consumer is signed up for? How do you measure and
ensure fairness for the protocols that we develop? Companies like Google have
spent a lot of time thinking about such problems, developing transport-layer
protocols like <a href="https://peering.google.com/#/learn-more/quic" rel="external nofollow noopener" target="_blank">Quic</a> which is
used when connecting from the Chrome web browser to Google’s own servers.</p>

<p>A lot of the protocols that power the internet are also built on the trust that
everyone behaves properly. But this is not always true.  In 2008, Pakistan
ordered their ISPs to block YouTube. They aimed to achieve this by sending an
iBGP (internal BGP) announcement to “blackhole” all traffic to YouTube, i.e make
it unreachable. But by error, they sent an eBGP (external BGP) announcement
instead, effectively announcing to the entire world that they knew how to reach
YouTube. But because their announcement had a smaller address block, it was
considered more authoritative than YouTube’s eBGP announcement, meaning that
very quickly all internet traffic intended for YouTube.com started going to
Pakistan instead, effectively making the real YouTube unreachable for the entire
world for almost two hours. As Hanlon’s razor goes, never attribute to malice
that which can be explained by incompetence. When we do have a malicious actor
though, just how bad can things get, and how do we guard against it?</p>

<p>Finally, there are many hardware and physical infrastructural factors.  I am
always impressed at how I still manage to have decent internet service in a
large convention hall packed with people, each also using their own mobile
devices. How do different WiFi access points (AP) perform collision avoidance to
avoid transmitting at the same time, yet still provide good service? It turns
out that channel reservation protocols are often too expensive in practice, and
so virtual (and physical) carrier sense (i.e listen before you talk) is often
preferred. Furthermore, the specific optimal placement of these APs actually
involves a lot of measurements in 3D space, and it has become so advanced that
centralized controllers for the APs can dynamically adjust their power and thus
signal strength in response to live measurements of network interference.</p>

<p>All of these are barely scratching the surface of what I think makes the topic
of computer networks so wild and wonderful, and if these sound like interesting
things that you would love to learn more about, I would definitely recommend
that you take the class!</p>

<h2 id="some-thoughts-from-experienced-software-engineers">Some thoughts from experienced software engineers</h2>
<p>More than a few experienced software engineers have remarked to me during my
internship that most developers have almost no clue about network engineering,
despite it being really important in many applications in industry. For
instance, a lot of optimizations for high-frequency trading are done in making
the network stack faster, which is by far the largest bottleneck. On the other
hand, many network engineers are also not the best software engineers, so people
with skills in the intersection are highly valued and tend to be
well-compensated.  I’m not saying that making more money is the reason to take
this class, but if you just happen to want something that is practical and might
help your career prospects, you can’t go too wrong with this class.</p>

<h2 id="other-courses-at-cmu">Other courses at CMU</h2>
<p>This post is written as part of a collection of posts to help shed light on some
of CMU’s less well-known classes that I found interesting and useful, in hopes
of encouraging more people to consider taking them. Check out the <a href="/courses/">Course
Reviews</a> page for more.</p>

<p>I hope you found this post useful! Feel free to ask any questions in the
comments section below. If you have taken the class before and would like to
chime in with some thoughts, please feel more than welcome to also mention them
below.</p>

<h2 id="acknowledgments">Acknowledgments</h2>
<p>Special thanks to <a href="https://jennyafish.github.io/" rel="external nofollow noopener" target="_blank">Jenny Fish</a> for kindly
proofreading and providing feedback on this post before it was published. She
took Computer Networks the same semester that I did.</p>

    </div>
  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <!-- <p class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</p> -->
    <p class="mb-2">Related Posts:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/llama-3.1-technical-report-notes/">Notes on 'The Llama 3 Herd of Models'</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/setting-up-yuancon-controller-sound-voltex/">Playing Sound Voltex at Home: Setting Up Unnamed SDVX Clone with the Yuancon SDVX Controller</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/creating-trackback-requests/">Creating Trackback Requests for Static Sites</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/high-dimensional-analysis-of-m-estimators/">A Unified Framework for High-Dimensional Analysis of M-Estimators with Decomposable Regularizers: A Guided Walkthrough</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/cmu-steam-tunnels/">The CMU Steam Tunnels and Wean 9</a>
  </li>

<div id="giscus_thread" style="max-width: 800px; margin: 0 auto;">
  <script>
    let giscusTheme = localStorage.getItem("theme");
    let giscusAttributes = {
        "src": "https://giscus.app/client.js",
        "data-repo": "fanpu/website",
        "data-repo-id": "R_kgDOIpOodA",
        "data-category": "General",
        "data-category-id": "DIC_kwDOIpOodM4CTKDC",
        "data-mapping": "title",
        "data-strict": "1",
        "data-reactions-enabled": "1",
        "data-emit-metadata": "0",
        "data-input-position": "top",
        "data-theme": giscusTheme,
        "data-lang": "en",
        "crossorigin": "anonymous",
        "async": "",
    };


    let giscusScript = document.createElement("script");
    Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
    document.getElementById("giscus_thread").appendChild(giscusScript);
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a>
</noscript>
</div>
</div>

          </div>
        </div>
        
      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Fan Pu  Zeng. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme.
Last updated: September 22, 2024.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Enable Tooltips -->
  <script type="text/javascript">
  $(function () {$('[data-toggle="tooltip"]').tooltip()})
  </script>
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>
  <!-- Sidebar Table of Contents -->
  <script defer src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>


  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      loader: {load: ['[tex]/mathtools']},
      tex: {
        packages: {'[+]': ['mathtools', 'ams']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          addMenu: []
        }
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
