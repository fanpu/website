<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>The Art of LaTeX: Common Mistakes, and Advice for Typesetting Beautiful, Delightful Proofs | Fan Pu  Zeng</title>
    <meta name="author" content="Fan Pu  Zeng">
    <meta name="description" content="When was the first time you had to use LaTeX? If you are like most people, it was probably suddenly forced upon you during your first math or CS class where you had to start writing proofs, with minimal guidance on how to get started. Unfortunately, this meant that while many people have good operational knowledge of LaTeX, there are still many small mistakes and best practices which are not followed, which are not corrected by TAs as they are either not severe enough to warrant a note, or perhaps even the TAs themselves are not aware of them. &lt;br&gt;&lt;br&gt; In this post, we cover some common mistakes that are made by LaTeX practitioners (even in heavily cited papers), and how to address them.
">
    <meta name="keywords" content="fanpu, fan pu, fanpu zeng, fan pu zeng, zengfanpu, fanpuzeng, fzeng, CMU, cmu, carnegie mellon, cmu courses, school of computer science, scs, machine learning, computer science, ml, theory, courses, course reviews, CS, Jane Street">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    
    <!-- Sidebar Table of Contents -->
    <link href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css" rel="stylesheet">
    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/favicon_new.ico">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://fanpu.io/blog/2023/latex-tips/">
    <!-- Dark Mode -->
    

    <!-- Twitter cards -->
    <meta name="twitter:site" content="@FanPu_Zeng">
    <meta name="twitter:creator" content="@fanpu">
    <meta name="og:title" content="The Art of LaTeX: Common Mistakes, and Advice for Typesetting Beautiful, Delightful Proofs">

    
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="og:image" content="https://fanpu.io/assets/img/posts/ubin_pond.webp">

    

    
    <meta name="og:description" content="When was the first time you had to use LaTeX? If you are like most people, it was probably suddenly forced upon you during your first math or CS class where you had to start writing proofs, with minimal guidance on how to get started. Unfortunately, this meant that while many people have good operational knowledge of LaTeX, there are still many small mistakes and best practices which are not followed, which are not corrected by TAs as they are either not severe enough to warrant a note, or perhaps even the TAs themselves are not aware of them. &lt;br&gt;&lt;br&gt; In this post, we cover some common mistakes that are made by LaTeX practitioners (even in heavily cited papers), and how to address them.
">
    

    <!-- end of Twitter cards -->
  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Fan Pu </span>Zeng</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">About</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/courses/">CMU Course Reviews</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cmu-online/">CMU Online</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/summaries/">ML Paper Summaries</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">Repositories</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        
        <div class="row">
          <!-- sidebar, which will move to the top on a small screen -->
          <div class="col-sm-3">
            <nav id="toc-sidebar" class="sticky-top"></nav>
          </div>
          <!-- main content area -->
          <div class="col-sm-9">
            <!-- _layouts/post.html -->

<div class="post">

  <div style="display:none">
    $$
    \newcommand{\bone}{\mathbf{1}}
    \newcommand{\bbeta}{\mathbf{\beta}}
    \newcommand{\bdelta}{\mathbf{\delta}}
    \newcommand{\bepsilon}{\mathbf{\epsilon}}
    \newcommand{\blambda}{\mathbf{\lambda}}
    \newcommand{\bomega}{\mathbf{\omega}}
    \newcommand{\bpi}{\mathbf{\pi}}
    \newcommand{\bphi}{\mathbf{\phi}}
    \newcommand{\bvphi}{\mathbf{\varphi}}
    \newcommand{\bpsi}{\mathbf{\psi}}
    \newcommand{\bsigma}{\mathbf{\sigma}}
    \newcommand{\btheta}{\mathbf{\theta}}
    \newcommand{\btau}{\mathbf{\tau}}
    \newcommand{\ba}{\mathbf{a}}
    \newcommand{\bb}{\mathbf{b}}
    \newcommand{\bc}{\mathbf{c}}
    \newcommand{\bd}{\mathbf{d}}
    \newcommand{\be}{\mathbf{e}}
    \newcommand{\boldf}{\mathbf{f}}
    \newcommand{\bg}{\mathbf{g}}
    \newcommand{\bh}{\mathbf{h}}
    \newcommand{\bi}{\mathbf{i}}
    \newcommand{\bj}{\mathbf{j}}
    \newcommand{\bk}{\mathbf{k}}
    \newcommand{\bell}{\mathbf{\ell}}
    \newcommand{\bm}{\mathbf{m}}
    \newcommand{\bn}{\mathbf{n}}
    \newcommand{\bo}{\mathbf{o}}
    \newcommand{\bp}{\mathbf{p}}
    \newcommand{\bq}{\mathbf{q}}
    \newcommand{\br}{\mathbf{r}}
    \newcommand{\bs}{\mathbf{s}}
    \newcommand{\bt}{\mathbf{t}}
    \newcommand{\bu}{\mathbf{u}}
    \newcommand{\bv}{\mathbf{v}}
    \newcommand{\bw}{\mathbf{w}}
    \newcommand{\bx}{\mathbf{x}}
    \newcommand{\by}{\mathbf{y}}
    \newcommand{\bz}{\mathbf{z}}
    \newcommand{\bA}{\mathbf{A}}
    \newcommand{\bB}{\mathbf{B}}
    \newcommand{\bC}{\mathbf{C}}
    \newcommand{\bD}{\mathbf{D}}
    \newcommand{\bE}{\mathbf{E}}
    \newcommand{\bF}{\mathbf{F}}
    \newcommand{\bG}{\mathbf{G}}
    \newcommand{\bH}{\mathbf{H}}
    \newcommand{\bI}{\mathbf{I}}
    \newcommand{\bJ}{\mathbf{J}}
    \newcommand{\bK}{\mathbf{K}}
    \newcommand{\bL}{\mathbf{L}}
    \newcommand{\bM}{\mathbf{M}}
    \newcommand{\bN}{\mathbf{N}}
    \newcommand{\bP}{\mathbf{P}}
    \newcommand{\bQ}{\mathbf{Q}}
    \newcommand{\bR}{\mathbf{R}}
    \newcommand{\bS}{\mathbf{S}}
    \newcommand{\bT}{\mathbf{T}}
    \newcommand{\bU}{\mathbf{U}}
    \newcommand{\bV}{\mathbf{V}}
    \newcommand{\bW}{\mathbf{W}}
    \newcommand{\bX}{\mathbf{X}}
    \newcommand{\bY}{\mathbf{Y}}
    \newcommand{\bZ}{\mathbf{Z}}

    \newcommand{\bsa}{\boldsymbol{a}}
    \newcommand{\bsb}{\boldsymbol{b}}
    \newcommand{\bsc}{\boldsymbol{c}}
    \newcommand{\bsd}{\boldsymbol{d}}
    \newcommand{\bse}{\boldsymbol{e}}
    \newcommand{\bsoldf}{\boldsymbol{f}}
    \newcommand{\bsg}{\boldsymbol{g}}
    \newcommand{\bsh}{\boldsymbol{h}}
    \newcommand{\bsi}{\boldsymbol{i}}
    \newcommand{\bsj}{\boldsymbol{j}}
    \newcommand{\bsk}{\boldsymbol{k}}
    \newcommand{\bsell}{\boldsymbol{\ell}}
    \newcommand{\bsm}{\boldsymbol{m}}
    \newcommand{\bsn}{\boldsymbol{n}}
    \newcommand{\bso}{\boldsymbol{o}}
    \newcommand{\bsp}{\boldsymbol{p}}
    \newcommand{\bsq}{\boldsymbol{q}}
    \newcommand{\bsr}{\boldsymbol{r}}
    \newcommand{\bss}{\boldsymbol{s}}
    \newcommand{\bst}{\boldsymbol{t}}
    \newcommand{\bsu}{\boldsymbol{u}}
    \newcommand{\bsv}{\boldsymbol{v}}
    \newcommand{\bsw}{\boldsymbol{w}}
    \newcommand{\bsx}{\boldsymbol{x}}
    \newcommand{\bsy}{\boldsymbol{y}}
    \newcommand{\bsz}{\boldsymbol{z}}
    \newcommand{\bsA}{\boldsymbol{A}}
    \newcommand{\bsB}{\boldsymbol{B}}
    \newcommand{\bsC}{\boldsymbol{C}}
    \newcommand{\bsD}{\boldsymbol{D}}
    \newcommand{\bsE}{\boldsymbol{E}}
    \newcommand{\bsF}{\boldsymbol{F}}
    \newcommand{\bsG}{\boldsymbol{G}}
    \newcommand{\bsH}{\boldsymbol{H}}
    \newcommand{\bsI}{\boldsymbol{I}}
    \newcommand{\bsJ}{\boldsymbol{J}}
    \newcommand{\bsK}{\boldsymbol{K}}
    \newcommand{\bsL}{\boldsymbol{L}}
    \newcommand{\bsM}{\boldsymbol{M}}
    \newcommand{\bsN}{\boldsymbol{N}}
    \newcommand{\bsP}{\boldsymbol{P}}
    \newcommand{\bsQ}{\boldsymbol{Q}}
    \newcommand{\bsR}{\boldsymbol{R}}
    \newcommand{\bsS}{\boldsymbol{S}}
    \newcommand{\bsT}{\boldsymbol{T}}
    \newcommand{\bsU}{\boldsymbol{U}}
    \newcommand{\bsV}{\boldsymbol{V}}
    \newcommand{\bsW}{\boldsymbol{W}}
    \newcommand{\bsX}{\boldsymbol{X}}
    \newcommand{\bsY}{\boldsymbol{Y}}
    \newcommand{\bsZ}{\boldsymbol{Z}}

    \newcommand{\calA}{\mathcal{A}}
    \newcommand{\calB}{\mathcal{B}}
    \newcommand{\calC}{\mathcal{C}}
    \newcommand{\calD}{\mathcal{D}}
    \newcommand{\calE}{\mathcal{E}}
    \newcommand{\calF}{\mathcal{F}}
    \newcommand{\calG}{\mathcal{G}}
    \newcommand{\calH}{\mathcal{H}}
    \newcommand{\calI}{\mathcal{I}}
    \newcommand{\calJ}{\mathcal{J}}
    \newcommand{\calK}{\mathcal{K}}
    \newcommand{\calL}{\mathcal{L}}
    \newcommand{\calM}{\mathcal{M}}
    \newcommand{\calN}{\mathcal{N}}
    \newcommand{\calO}{\mathcal{O}}
    \newcommand{\calP}{\mathcal{P}}
    \newcommand{\calQ}{\mathcal{Q}}
    \newcommand{\calR}{\mathcal{R}}
    \newcommand{\calS}{\mathcal{S}}
    \newcommand{\calT}{\mathcal{T}}
    \newcommand{\calU}{\mathcal{U}}
    \newcommand{\calV}{\mathcal{V}}
    \newcommand{\calW}{\mathcal{W}}
    \newcommand{\calX}{\mathcal{X}}
    \newcommand{\calY}{\mathcal{Y}}
    \newcommand{\calZ}{\mathcal{Z}}

    \newcommand{\R}{\mathbb{R}}
    \newcommand{\C}{\mathbb{C}}
    \newcommand{\N}{\mathbb{N}}
    \newcommand{\Z}{\mathbb{Z}}
    \newcommand{\F}{\mathbb{F}}
    \newcommand{\Q}{\mathbb{Q}}

    \DeclareMathOperator*{\argmax}{arg\,max}
    \DeclareMathOperator*{\argmin}{arg\,min}
    \newcommand{\nnz}[1]{\mbox{nnz}(#1)}
    \newcommand{\dotprod}[2]{\langle #1, #2 \rangle}

    \newcommand{\ignore}[1]{}

    \let\Pr\relax
    \DeclareMathOperator*{\Pr}{\mathbf{Pr}}
    \newcommand{\E}{\mathbb{E}}
    \DeclareMathOperator*{\Ex}{\mathbf{E}}
    \DeclareMathOperator*{\Var}{\mathbf{Var}}
    \DeclareMathOperator*{\Cov}{\mathbf{Cov}}
    \DeclareMathOperator*{\stddev}{\mathbf{stddev}}
    \DeclareMathOperator*{\avg}{avg}

    \DeclareMathOperator{\poly}{poly}
    \DeclareMathOperator{\polylog}{polylog}
    \DeclareMathOperator{\size}{size}
    \DeclareMathOperator{\sgn}{sgn}
    \DeclareMathOperator{\dist}{dist}
    \DeclareMathOperator{\vol}{vol}
    \DeclareMathOperator{\spn}{span}
    \DeclareMathOperator{\supp}{supp}
    \DeclareMathOperator{\tr}{tr}
    \DeclareMathOperator{\Tr}{Tr}
    \DeclareMathOperator{\codim}{codim}
    \DeclareMathOperator{\diag}{diag}

    \newcommand{\PTIME}{\mathsf{P}}
    \newcommand{\LOGSPACE}{\mathsf{L}}
    \newcommand{\ZPP}{\mathsf{ZPP}}
    \newcommand{\RP}{\mathsf{RP}}
    \newcommand{\BPP}{\mathsf{BPP}}
    \newcommand{\P}{\mathsf{P}}
    \newcommand{\NP}{\mathsf{NP}}
    \newcommand{\TC}{\mathsf{TC}}
    \newcommand{\AC}{\mathsf{AC}}
    \newcommand{\SC}{\mathsf{SC}}
    \newcommand{\SZK}{\mathsf{SZK}}
    \newcommand{\AM}{\mathsf{AM}}
    \newcommand{\IP}{\mathsf{IP}}
    \newcommand{\PSPACE}{\mathsf{PSPACE}}
    \newcommand{\EXP}{\mathsf{EXP}}
    \newcommand{\MIP}{\mathsf{MIP}}
    \newcommand{\NEXP}{\mathsf{NEXP}}
    \newcommand{\BQP}{\mathsf{BQP}}
    \newcommand{\distP}{\mathsf{dist\textbf{P}}}
    \newcommand{\distNP}{\mathsf{dist\textbf{NP}}}

    \newcommand{\eps}{\epsilon}
    \newcommand{\lam}{\lambda}
    \newcommand{\dleta}{\delta}
    \newcommand{\simga}{\sigma}
    \newcommand{\vphi}{\varphi}
    \newcommand{\la}{\langle}
    \newcommand{\ra}{\rangle}
    \newcommand{\wt}[1]{\widetilde{#1}}
    \newcommand{\wh}[1]{\widehat{#1}}
    \newcommand{\ol}[1]{\overline{#1}}
    \newcommand{\ul}[1]{\underline{#1}}
    \newcommand{\ot}{\otimes}
    \newcommand{\zo}{\{0,1\}}
    \newcommand{\co}{:} %\newcommand{\co}{\colon}
    \newcommand{\bdry}{\partial}
    \newcommand{\grad}{\nabla}
    \newcommand{\transp}{^\intercal}
    \newcommand{\inv}{^{-1}}
    \newcommand{\symmdiff}{\triangle} \newcommand{\symdiff}{\symmdiff}
    \newcommand{\half}{\tfrac{1}{2}}
    \newcommand{\bbone}{\mathbbm 1}
    \newcommand{\Id}{\bbone}

    \newcommand{\SAT}{\mathsf{SAT}}

    \newcommand{\bcalG}{\boldsymbol{\calG}}
    \newcommand{\calbG}{\bcalG}
    \newcommand{\bcalX}{\boldsymbol{\calX}} \newcommand{\calbX}{\bcalX}
    \newcommand{\bcalY}{\boldsymbol{\calY}} \newcommand{\calbY}{\bcalY}
    \newcommand{\bcalZ}{\boldsymbol{\calZ}} \newcommand{\calbZ}{\bcalZ}
    $$
</div>

  <header class="post-header">
    <h1 class="post-title">The Art of LaTeX: Common Mistakes, and Advice for Typesetting Beautiful, Delightful Proofs</h1>
    <p class="post-meta">January 2, 2023• fanpu</p>
    <p class="post-tags">
      <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>
        ·  
        <a href="/blog/tag/code">
          <i class="fas fa-hashtag fa-sm"></i> code</a>  
          <a href="/blog/tag/general">
          <i class="fas fa-hashtag fa-sm"></i> general</a>  
          

    </p>
  </header>

  
      <figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/ubin_pond.webp" class="preview z-depth-1 rounded center" width="100%" height="450px" alt="post.cover" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture>
</figure>

    <div class="caption">
        Pulau Ubin, Singapore
    </div>
  

  <article class="post-content">
    
    <div id="markdown-content">
      <p>When was the first time you had to use <a href="https://www.latex-project.org/" rel="external nofollow noopener" target="_blank">LaTeX</a>?
If you are like most people, it was probably suddenly forced upon you during
your first math or CS class where you had to start writing proofs, with minimal
guidance on how to get started other than something along the lines of “hey,
check out this link on how to get things setup, and here are some basic
commands, now go wild!”.</p>

<p>Unfortunately, this meant that while many people have good operational knowledge
of LaTeX and can get the job done, there are still many small mistakes and
best practices which are not followed, which are not corrected by TAs
as they are either not severe enough to warrant a note, or perhaps even the TAs themselves
are not aware of them.</p>

<p>In this post, we cover some common mistakes that are made by LaTeX
practitioners (even in heavily cited papers), and how to address them. This
post assumes that the reader has some working knowledge of LaTeX.</p>

<h2 id="typesetting-as-a-form-of-art">Typesetting as a Form of Art</h2>
<p>It is important to get into the right mindset whenever you typeset a
document. You are not simply “writing” a document — you are crafting a work
of art that combines both the precision and creativity of your logical
thinking, as well as the elegance of a beautifully typeset writing. The amount
of attention and care you put into the presentation is indicative of the amount
of thought you put into the content. Therefore, having good style is not
only delightful and aesthetically pleasing to read, but it also serves to establish 
your ethos and character. One can tell that someone puts a lot of effort into their
work and takes great pride in them when they pay attention even to the smallest of
details.</p>

<p>Furthermore, adopting good practices also helps to avoid you making
typographical mistakes in your proof, such as missing parenthesis or wrong
positioning. This could often lead to cascading errors that are very annoying
to fix when you discover them later on. There are ways to replicate the strict
typechecking of statically typed languages to ensure that mistakes in your
expressions can be caught at compile-time.</p>

<h2 id="common-mistakes-and-how-to-fix-them">Common Mistakes, and How To Fix Them</h2>
<p>In the following section, we take a look at common mistakes that people make,
and how they can be avoided or fixed. We cover style mistakes first, since the
ideas behind them are more general. All the screenshotted examples come from
peer-reviewed papers that have been published to top conferences, so they are
definitely very common mistakes and you shouldn’t feel bad for making them.
The important thing is that you are aware of them now so that your style
will gradually improve over time.</p>

<h2 id="style-mistakes">Style Mistakes</h2>
<p>We take a look at style mistakes, which impairs reader understanding,
and makes it easy to commit other sorts of errors.</p>

<h3 id="paired-delimiters">Paired Delimiters</h3>
<p>Parenthesis, brackets, and pipes are examples of delimiters that are used to mark the start
and end of formula expressions. As they come in pairs, a common mistake is accidentally 
leaving out the closing delimiter, especially for nested expressions. Even if you don’t
forget to do so, there is the issue of incorrect sizing.</p>

<p>For instance, consider
the following way of expressing the Topologist’s sine curve, which is an example of a topology
that is connected but not path connected:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">T = <span class="k">\{</span> ( x, <span class="k">\sin</span> <span class="k">\frac</span><span class="p">{</span>1<span class="p">}{</span>x<span class="p">}</span> ) : x <span class="k">\in</span> (0, 1] <span class="k">\}</span> <span class="k">\cup</span> <span class="k">\{</span> ( 0, 0 ) <span class="k">\}</span></code></pre></figure>

<p>which is rendered as follows:</p>

\[T = \{(x, \sin \frac{1}{x} ) : x \in (0, 1] \} \cup \{ ( 0, 0 ) \}\]

<p>The problem here is that the curly braces have the wrong
size, as they should be large enough to cover the \(\sin \frac{1}{x}\) expression vertically.</p>

<p>The wrong way of resolving this would be to use delimiter size modifiers, i.e
<code class="language-plaintext highlighter-rouge">\bigl, \Bigl, \biggl</code> paired with <code class="language-plaintext highlighter-rouge">\bigr, \Bigr, \biggr</code>  and the like. This
is tedious and error-prone, since it will even happily let you match delimiters
with different sizes. Indeed, I came across the following formula in a
paper recently, where the outer right square brackets was missing and the left one
had the wrong size:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/paired_delim.webp" class="z-depth-1 center" width="500px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      What happens when you don't use paired delimiters
    </figcaption>
</figure>

<p>The correct way to do this would be to use paired delimiters,
which will automatically adjust its size based on
its contents, and automatically result in a compile error if the matching
right delimiter is not included, or nested at the wrong level.
Some of them are given below:</p>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Raw LaTeX</th>
      <th>Rendered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\left( \frac{1}{x} \right)   </code></td>
      <td>\(\left( \frac{1}{x} \right)\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\left[ \frac{1}{x} \right]   </code></td>
      <td>\(\left[ \frac{1}{x} \right]\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\left\{ \frac{1}{x} \right\} </code></td>
      <td>\(\left\{ \frac{1}{x} \right\}\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\left\lvert \frac{1}{x} \right\lvert </code></td>
      <td>\(\left\lvert \frac{1}{x} \right\rvert\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\left\lceil \frac{1}{x} \right\rceil </code></td>
      <td>\(\left\lceil \frac{1}{x} \right\rceil\)</td>
    </tr>
  </tbody>
</table>

<p>In fact, to make things even simpler and more readable, you can declare paired delimiters 
for use based on the <code class="language-plaintext highlighter-rouge">mathtools</code> package, with the following commands due to
<a href="http://www.cs.cmu.edu/~odonnell/" rel="external nofollow noopener" target="_blank">Ryan O’Donnell</a>:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="c">% Make sure you include \usepackage{mathtools}</span>
<span class="k">\DeclarePairedDelimiter\parens</span><span class="p">{</span><span class="k">\lparen</span><span class="p">}{</span><span class="k">\rparen</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\abs</span><span class="p">{</span><span class="k">\lvert</span><span class="p">}{</span><span class="k">\rvert</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\norm</span><span class="p">{</span><span class="k">\lVert</span><span class="p">}{</span><span class="k">\rVert</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\floor</span><span class="p">{</span><span class="k">\lfloor</span><span class="p">}{</span><span class="k">\rfloor</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\ceil</span><span class="p">{</span><span class="k">\lceil</span><span class="p">}{</span><span class="k">\rceil</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\braces</span><span class="p">{</span><span class="k">\lbrace</span><span class="p">}{</span><span class="k">\rbrace</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\bracks</span><span class="p">{</span><span class="k">\lbrack</span><span class="p">}{</span><span class="k">\rbrack</span><span class="p">}</span>
<span class="k">\DeclarePairedDelimiter\angles</span><span class="p">{</span><span class="k">\langle</span><span class="p">}{</span><span class="k">\rangle</span><span class="p">}</span></code></pre></figure>

<p>Then you can now use the custom delimiters as follows, taking note that you need the <code class="language-plaintext highlighter-rouge">*</code>
for it to auto-resize:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">T = <span class="k">\braces*</span><span class="p">{</span> <span class="k">\parens*</span><span class="p">{</span> x, <span class="k">\sin</span> <span class="k">\frac</span><span class="p">{</span>1<span class="p">}{</span>x<span class="p">}</span> <span class="p">}</span> : x <span class="k">\in</span> (0, 1] <span class="p">}</span> <span class="k">\cup</span> <span class="k">\braces*</span><span class="p">{</span> <span class="k">\parens*</span><span class="p">{</span> 0, 0 <span class="p">}}</span></code></pre></figure>

<p>which gives</p>

\[T = \left\{ \left( x, \sin \frac{1}{x} \right) : x \in (0, 1] \right\} \cup \left\{ \left( 0, 0 \right) \right\} \\\]

<p>The biggest downside of using custom paired delimiters is having to remember to
add the <code class="language-plaintext highlighter-rouge">*</code>, otherwise, the delimiters will not auto-resize. This is pretty unfortunate
as it still makes it error-prone. There is a <a href="https://tex.stackexchange.com/questions/1742/automatic-left-and-right-commands/1744#1744" rel="external nofollow noopener" target="_blank">proposed
solution</a>
floating around on StackExchange that relies on a custom command that makes auto-resizing
the default, but it’s still a far cry from a parsimonious solution.</p>

<h3 id="macros-for-saving-time-and-preventing-mistakes">Macros for Saving Time and Preventing Mistakes</h3>
<p>Macros can be defined using the <code class="language-plaintext highlighter-rouge">\newcommand</code> command.
The basic syntax is <code class="language-plaintext highlighter-rouge">\newcommand{command_name}{command_definition}</code>.
For instance, it might get tiring to always type <code class="language-plaintext highlighter-rouge">\boldsymbol{A}</code>
to refer to a matrix \(\boldsymbol{A}\), so you can use the following macro:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="c">% Macro</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\bA</span><span class="p">}{</span><span class="k">\boldsymbol</span><span class="p">{</span>A<span class="p">}}</span>

<span class="p">$$</span><span class="nv">\min</span><span class="p">_</span><span class="nb">x </span><span class="nv">\lvert</span><span class="nb"> </span><span class="nv">\bA</span><span class="nb"> x </span><span class="o">-</span><span class="nb"> b </span><span class="nv">\rvert</span><span class="p">_</span><span class="m">2</span><span class="p">^</span><span class="m">2</span><span class="p">$$</span></code></pre></figure>

\[\min_x \left\lvert \boldsymbol{A} x - b \right\rvert_2^2\]

<p>Macros can also take arguments to be substituted within the definition.
This is done by adding a <code class="language-plaintext highlighter-rouge">[n]</code> argument after your command name,
where <code class="language-plaintext highlighter-rouge">n</code> is the number of arguments that it should take. You can then
reference the positional arguments using <code class="language-plaintext highlighter-rouge">#1, #2,</code> and so on.
Here, we create a <code class="language-plaintext highlighter-rouge">\dotprod</code> macro that takes two arguments:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="c">% Macros</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\dotprod</span><span class="p">}</span>[2]<span class="p">{</span><span class="k">\langle</span> #1, #2 <span class="k">\rangle</span><span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\bu</span><span class="p">}{</span><span class="k">\boldsymbol</span><span class="p">{</span>u<span class="p">}}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\bv</span><span class="p">}{</span><span class="k">\boldsymbol</span><span class="p">{</span>v<span class="p">}}</span>

<span class="p">$$</span><span class="nv">\left\lvert</span><span class="nb"> </span><span class="nv">\dotprod</span><span class="p">{</span><span class="nv">\bu</span><span class="p">}{</span><span class="nv">\bv</span><span class="p">}</span><span class="nb"> </span><span class="nv">\right\rvert</span><span class="p">^</span><span class="m">2</span><span class="nb"> </span><span class="nv">\leq</span><span class="nb"> </span><span class="nv">\dotprod</span><span class="p">{</span><span class="nv">\bu</span><span class="p">}{</span><span class="nv">\bu</span><span class="p">}</span><span class="nb"> </span><span class="nv">\cdot</span><span class="nb"> </span><span class="nv">\dotprod</span><span class="p">{</span><span class="nv">\bv</span><span class="p">}{</span><span class="nv">\bv</span><span class="p">}$$</span></code></pre></figure>

\[\left\lvert \dotprod{\bu}{\bv} \right\rvert^2 \leq \dotprod{\bu}{\bu} \cdot \dotprod{\bv}{\bv}\]

<p>Macros are incredibly helpful as they help to save time, and ensure that our
notation is consistent. However, they can also be used to help to catch
mistakes when typesetting grammatically structured things.</p>

<p>For instance, when expressing types and terms in programming language theory, 
there is often a lot of nested syntactical structure, which could make it easy
to make mistakes.  Consider the following proof:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/macros.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      A proof with a lot of syntactical structure
    </figcaption>
</figure>

<p>The details are unimportant, but it is clear that it is easy to miss a letter here
or a term there in the proof, given how cumbersome the notation is.
To avoid this, I used the following macros, due to <a href="http://www.cs.cmu.edu/~rwh/" rel="external nofollow noopener" target="_blank">Robert Harper</a>:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\newcommand</span><span class="p">{</span><span class="k">\inval</span><span class="p">}</span>[2]<span class="p">{</span><span class="k">\in</span><span class="p">^{</span>(#1)<span class="p">}_</span><span class="k">\mathsf</span><span class="p">{</span>val<span class="p">}</span> #2<span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\foldex</span><span class="p">}</span>[2]<span class="p">{</span><span class="k">\mathsf</span><span class="p">{</span>fold<span class="p">}_{</span>#1<span class="p">}</span>(#2)<span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\recty</span><span class="p">}</span>[2]<span class="p">{</span><span class="k">\mathsf</span><span class="p">{</span>rec<span class="p">}</span>(#1.#2)<span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\Subst</span><span class="p">}</span>[3]<span class="p">{</span><span class="k">\sqbracks</span><span class="p">{{</span>#1<span class="p">}</span><span class="k">\mathord</span><span class="p">{</span>/<span class="p">}{</span>#2<span class="p">}}{</span>#3<span class="p">}}</span></code></pre></figure>

<p>And the source for the proof looks like the following:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">We check that anti-monotonicity continues to hold for recursive types,
by showing that if <span class="p">$</span><span class="nb">m </span><span class="nv">\leq</span><span class="nb"> n</span><span class="p">$</span>, then
<span class="p">$$</span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">n</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb"> implies </span><span class="p">}</span><span class="nb"> </span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">m</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}</span><span class="nb">. </span><span class="p">$$</span>

<span class="nt">\begin{proof}</span>
We proceed by induction on <span class="p">$</span><span class="nb">n</span><span class="p">$</span>. 
When <span class="p">$</span><span class="nb">n</span><span class="o">=</span><span class="m">0</span><span class="p">$</span>, the result is trivial, so consider <span class="p">$</span><span class="nb">n </span><span class="nv">\geq</span><span class="nb"> </span><span class="m">0</span><span class="p">$</span>, with the intent to prove it for <span class="p">$</span><span class="nb">n</span><span class="o">+</span><span class="m">1</span><span class="p">$</span>.

Let <span class="p">$</span><span class="nb">m </span><span class="nv">\leq</span><span class="nb"> n </span><span class="o">+</span><span class="nb"> </span><span class="m">1</span><span class="p">$</span>, and assume
<span class="p">$</span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">n</span><span class="o">+</span><span class="m">1</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>. If <span class="p">$</span><span class="nb">m </span><span class="o">=</span><span class="nb"> n </span><span class="o">+</span><span class="nb"> </span><span class="m">1</span><span class="p">$</span> or <span class="p">$</span><span class="nb">m</span><span class="o">=</span><span class="m">0</span><span class="p">$</span>, we are trivially done, so let <span class="p">$</span><span class="m">0</span><span class="nb"> &lt; m &lt; n</span><span class="o">+</span><span class="m">1</span><span class="p">$</span>.

We want to show that
<span class="p">$</span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">m</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>.
By definition of step-indexed logical relations~(SILR), it suffices to show
<span class="p">$</span><span class="nb">V </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">m</span><span class="o">-</span><span class="m">1</span><span class="p">}{</span><span class="nv">\Subst</span><span class="p">{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>.

Since <span class="p">$</span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">n</span><span class="o">+</span><span class="m">1</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>, by definition of SILR,
<span class="p">$</span><span class="nb">V </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">n</span><span class="p">}{</span><span class="nv">\Subst</span><span class="p">{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>.

By IH on <span class="p">$</span><span class="nb">V </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">n</span><span class="p">}{</span><span class="nv">\Subst</span><span class="p">{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>,
we also know <span class="p">$</span><span class="nb">V </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">m</span><span class="o">-</span><span class="m">1</span><span class="p">}{</span><span class="nv">\Subst</span><span class="p">{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>.

But then by definition of SILR,
<span class="p">$</span><span class="nv">\foldex</span><span class="p">{</span><span class="nb">X.A</span><span class="p">}{</span><span class="nb">V</span><span class="p">}</span><span class="nb"> </span><span class="nv">\inval</span><span class="p">{</span><span class="nb">m</span><span class="p">}{</span><span class="nv">\recty</span><span class="p">{</span><span class="nb">X</span><span class="p">}{</span><span class="nb">A</span><span class="p">}}$</span>, as desired. <span class="k">\qedhere</span>
<span class="nt">\end{proof}</span></code></pre></figure>

<p>It is definitely still not the most pleasant thing to read, but at least now you
will be less likely to miss an argument or forget to close a parenthesis.</p>

<h3 id="non-breaking-lines">Non-breaking lines</h3>
<p>Expressions which are logically a single unit should stay on the same line, instead
of being split apart mid-sentence. Cue the following bad example from another paper:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/nbsp.webp" class="z-depth-1 center" width="300px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Expressions that are broken apart
    </figcaption>
</figure>

<p>In the area marked in red, we had the expression that was defining \(\tau^i\)
get cut in half, which is very jarring visually and interrupts the reader’s
train of thought.</p>

<p>To ensure that expressions do not get split, simply wrap it around in curly braces.
For instance,</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\tau</span>=<span class="k">\left</span>(s<span class="p">_</span>1, a<span class="p">_</span>1, <span class="k">\ldots</span>, a<span class="p">_{</span>t-1<span class="p">}</span>, s<span class="p">_</span>t<span class="k">\right</span>)</code></pre></figure>

<p>would be wrapped by <code class="language-plaintext highlighter-rouge">{</code> and <code class="language-plaintext highlighter-rouge">}</code> on both sides and become</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="p">{</span> <span class="k">\tau</span>=<span class="k">\left</span>(s<span class="p">_</span>1, a<span class="p">_</span>1, <span class="k">\ldots</span>, a<span class="p">_{</span>t-1<span class="p">}</span>, s<span class="p">_</span>t<span class="k">\right</span>) <span class="p">}</span></code></pre></figure>

<p>So if we render the following snippet, which would otherwise have expressions
split in half without the wrapped curly braces:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">We denote the historical trajectory as 
<span class="p">${</span><span class="nb"> </span><span class="nv">\tau</span><span class="o">=</span><span class="nv">\left</span><span class="o">(</span><span class="nb">s</span><span class="p">_</span><span class="m">1</span><span class="nb">, a</span><span class="p">_</span><span class="m">1</span><span class="nb">, </span><span class="nv">\ldots</span><span class="nb">, a</span><span class="p">_{</span><span class="nb">t</span><span class="o">-</span><span class="m">1</span><span class="p">}</span><span class="nb">, s</span><span class="p">_</span><span class="nb">t</span><span class="nv">\right</span><span class="o">)</span><span class="nb"> </span><span class="p">}$</span>
and action-observation history <span class="p">$</span><span class="o">(</span><span class="nv">\mathrm</span><span class="p">{</span><span class="nb">AOH</span><span class="p">}</span><span class="o">)</span><span class="p">$</span> for
player <span class="p">$</span><span class="nb">i</span><span class="p">$</span> as 
<span class="p">${</span><span class="nb"> </span><span class="nv">\tau</span><span class="p">^</span><span class="nb">i</span><span class="o">=</span><span class="nv">\left</span><span class="o">(</span><span class="nv">\Omega</span><span class="p">^</span><span class="nb">i</span><span class="nv">\left</span><span class="o">(</span><span class="nb">s</span><span class="p">_</span><span class="m">1</span><span class="nv">\right</span><span class="o">)</span><span class="nb">, a</span><span class="p">_</span><span class="m">1</span><span class="nb">, </span><span class="nv">\ldots</span><span class="nb">, a</span><span class="p">_{</span><span class="nb">t</span><span class="o">-</span><span class="m">1</span><span class="p">}</span><span class="nb">, </span><span class="nv">\Omega</span><span class="p">^</span><span class="nb">i</span><span class="nv">\left</span><span class="o">(</span><span class="nb">s</span><span class="p">_</span><span class="nb">t</span><span class="nv">\right</span><span class="o">)</span><span class="nv">\right</span><span class="o">)</span><span class="nb"> </span><span class="p">}$</span>,
 which encodes the trajectory from player <span class="p">$</span><span class="nb">i</span><span class="p">$</span> 's point of view.</code></pre></figure>

<p>we get the following positive result where there is additional whitespace between
the justified text on the first line, to compensate for the expression assigning \(\tau\)
to stay on the same line:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/nbsp-positive.webp" class="z-depth-1 center" width="300px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Expressions that brace together stays together
    </figcaption>
</figure>

<h3 id="non-breaking-space-with-">Non-breaking space with <code class="language-plaintext highlighter-rouge">~</code>
</h3>
<p>When referencing figures and equations, you want the text and number (i.e Figure 10) to end up on the same line.
This is a negative example, where the region underlined in red shows how it was split up:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/figure-truncated.webp" class="z-depth-1 center" width="500px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      The phrase "Figure 2" was truncated in half
    </figcaption>
</figure>

<p>To remedy this, add a <code class="language-plaintext highlighter-rouge">~</code> after <code class="language-plaintext highlighter-rouge">Figure</code>, which LaTeX interprets as a non-breaking space:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">We evaluated the policy periodically during training by testing it without exploration noise.
Figure~<span class="k">\ref</span><span class="p">{</span>fig:env-perf<span class="p">}</span> shows the performance curve for a selection of environments. </code></pre></figure>

<p>This would ensure that “Figure 2” always appears together.</p>

<h3 id="expressions-should-be-punctuated-like-sentences">Expressions Should Be Punctuated Like Sentences</h3>
<p>Your document is meant to be read, and it should follow the rules and structures
of English (or whichever language you are writing in). This means that
mathematical expressions should also be punctuated appropriately, which
allows it to flow more naturally and make it easier for the reader to follow.</p>

<p>Consider the following example that does not use punctuation:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/sentence-negative.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Expressions which are not punctuated are tiring to read
    </figcaption>
</figure>

<p>In the region highlighted in red, the expressions do not carry any punctuation at all,
and by the end of the last equation (Equation 15), I am almost out of breath trying
to process all of the information. In addition, it does not end in a full stop, which
does not give me an affordance to take a break mentally until the next paragraph.</p>

<p>Instead, commas should be added after each expression where the expression does not terminate,
and the final equation should be ended by a full stop. Here is a good example of punctuation
that helps to guide the reader along the author’s train of thought:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/sentence-multiline.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Appropriate use of commas and full stop to guide the reader
    </figcaption>
</figure>

<p>Here is another good example of how using commas for the equations 
allow the text to flow naturally, where it takes the form of
“analogously, observe that we have [foo] and [bar], where the inequality…”:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/sentence-two-exp.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Punctuation allows the content to flow naturally
    </figcaption>
</figure>

<p>This even extends to when you pack several equations on a single line, which
is common when you are trying to fit the page limit for conference submissions:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/sentence-singleline.webp" class="z-depth-1 center" width="400px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Appropriate use of punctuation when multiple equations are on a single line
    </figcaption>
</figure>

<h3 id="the-proof-environment">The <code class="language-plaintext highlighter-rouge">proof</code> environment</h3>
<p>The <code class="language-plaintext highlighter-rouge">proof</code> environment from the <code class="language-plaintext highlighter-rouge">amsthm</code> package is great for signposting to your readers
where a proof starts and ends. For instance, consider how it is used in the following example:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\textit</span><span class="p">{</span>Problem: Show that if <span class="p">$</span><span class="o">(</span><span class="nb">x</span><span class="p">_</span><span class="nb">n</span><span class="o">)</span><span class="p">_</span><span class="nb">n</span><span class="p">$</span> converges to <span class="p">$</span><span class="nb">x</span><span class="p">$</span> in the usual sense, then
<span class="p">$</span><span class="nv">\lim</span><span class="p">_{</span><span class="nb">n </span><span class="nv">\to</span><span class="nb"> </span><span class="nv">\infty</span><span class="p">}</span><span class="nb"> x</span><span class="p">_</span><span class="nb">n </span><span class="o">=</span><span class="nb"> </span><span class="nv">\lim</span><span class="p">_{</span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}}</span><span class="nb"> x</span><span class="p">_</span><span class="nb">n</span><span class="p">$</span>.<span class="p">}</span>

Suppose that <span class="p">$</span><span class="o">(</span><span class="nb">x</span><span class="p">_</span><span class="nb">n</span><span class="o">)</span><span class="p">_</span><span class="nb">n</span><span class="p">$</span> converges to <span class="p">$</span><span class="nb">x</span><span class="p">$</span>. We show that this <span class="p">$</span><span class="nb">x</span><span class="p">$</span> is also the
<span class="p">$</span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}$</span>-limit of <span class="p">$</span><span class="o">(</span><span class="nb">x</span><span class="p">_</span><span class="nb">n</span><span class="o">)</span><span class="p">_</span><span class="nb">n</span><span class="p">$</span>.

<span class="nt">\begin{proof}</span>
    Take any <span class="p">$</span><span class="nv">\varepsilon</span><span class="p">$</span>. Then we know that for some large enough <span class="p">$</span><span class="nb">N</span><span class="p">$</span>, if <span class="p">$</span><span class="nb">n </span><span class="nv">\geq</span><span class="nb"> N</span><span class="p">$</span>, then
    <span class="p">$</span><span class="nb">x</span><span class="p">_</span><span class="nb">n </span><span class="nv">\in</span><span class="nb"> B</span><span class="p">_</span><span class="nv">\varepsilon</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="p">$</span>. Since every non-principal ultrafilter on <span class="p">$</span><span class="nv">\N</span><span class="p">$</span> contains
    <span class="p">$</span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}_</span><span class="nv">\infty</span><span class="p">$</span>, then <span class="p">$</span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}$</span> also contains <span class="p">$</span><span class="nb"> </span><span class="nv">\left\{</span><span class="nb"> n : n </span><span class="nv">\geq</span><span class="nb"> N </span><span class="nv">\right\}</span><span class="nb"> </span><span class="p">$</span>,
    since the complement is finite. Therefore since filters are closed upwards, any
    sequence items <span class="p">$</span><span class="nb">x</span><span class="p">_</span><span class="nb">n</span><span class="p">$</span> with <span class="p">$</span><span class="nb">n &lt; N</span><span class="p">$</span> that happen to fall in the ball around <span class="p">$</span><span class="nb">x</span><span class="p">$</span>,
    i.e, <span class="p">$</span><span class="nb">x</span><span class="p">_</span><span class="nb">n </span><span class="nv">\in</span><span class="nb"> B</span><span class="p">_</span><span class="nv">\varepsilon</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="p">$</span>
    is also contained in some filter element, so 
    <span class="p">$</span><span class="nv">\left\{</span><span class="nb">  n </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\N</span><span class="nb"> : </span><span class="nv">\lvert</span><span class="nb"> x</span><span class="p">_</span><span class="nb">n </span><span class="o">-</span><span class="nb"> x </span><span class="nv">\rvert</span><span class="nb"> &lt; </span><span class="nv">\varepsilon</span><span class="nb"> </span><span class="nv">\right\}</span><span class="nb"> </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}$</span>,
    as desired.
<span class="nt">\end{proof}</span></code></pre></figure>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/proof.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Signposting using the `proof` environment
    </figcaption>
</figure>

<p>This will helpfully highlight the start of your argument with <em>“Proof”</em>, and
terminate it with a square that symbolizes QED.</p>

<h3 id="terminate-proofs-with-explicit-qedhere">Terminate Proofs with Explicit <code class="language-plaintext highlighter-rouge">\qedhere</code>
</h3>

<p>Consider the same example as previously, but now you accidentally added an additional
newline before the closing <code class="language-plaintext highlighter-rouge">\end{proof}</code>, which happens pretty often:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="c">% Same as previously, contents elided for brevity</span>
<span class="nt">\begin{proof}</span>
    <span class="c">% Same as previously, contents elided for brevity</span>
    <span class="p">$</span><span class="nb">x</span><span class="p">_</span><span class="nb">n </span><span class="nv">\in</span><span class="nb"> B</span><span class="p">_</span><span class="nv">\varepsilon</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="p">$</span>
    is also contained in some filter element, so 
    <span class="p">$</span><span class="nv">\left\{</span><span class="nb">  n </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\N</span><span class="nb"> : </span><span class="nv">\lvert</span><span class="nb"> x</span><span class="p">_</span><span class="nb">n </span><span class="o">-</span><span class="nb"> x </span><span class="nv">\rvert</span><span class="nb"> &lt; </span><span class="nv">\varepsilon</span><span class="nb"> </span><span class="nv">\right\}</span><span class="nb"> </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}$</span>,
    as desired.

    <span class="c">% Extra newline here!</span>
<span class="nt">\end{proof}</span></code></pre></figure>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/qedhere.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Misaligned QED symbol
    </figcaption>
</figure>

<p>This results in the above scenario, where the QED symbol now appears on the next line by itself,
which throws the entire text off-balance visually. To avoid such things happening,
always include an explicit <code class="language-plaintext highlighter-rouge">\qedhere</code> marker at the end of your proof, which would cause it
to always appear on the line that it appears after:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="c">% Same as previously, contents elided for brevity</span>
<span class="nt">\begin{proof}</span>
    <span class="c">% Same as previously, contents elided for brevity</span>
    <span class="p">$</span><span class="nb">x</span><span class="p">_</span><span class="nb">n </span><span class="nv">\in</span><span class="nb"> B</span><span class="p">_</span><span class="nv">\varepsilon</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="p">$</span>
    is also contained in some filter element, so 
    <span class="p">$</span><span class="nv">\left\{</span><span class="nb">  n </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\N</span><span class="nb"> : </span><span class="nv">\lvert</span><span class="nb"> x</span><span class="p">_</span><span class="nb">n </span><span class="o">-</span><span class="nb"> x </span><span class="nv">\rvert</span><span class="nb"> &lt; </span><span class="nv">\varepsilon</span><span class="nb"> </span><span class="nv">\right\}</span><span class="nb"> </span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathcal</span><span class="p">{</span><span class="nb">F</span><span class="p">}$</span>,
    as desired. <span class="k">\qedhere</span> <span class="c">% Always add \qedhere once you are done!</span>

    <span class="c">% Extra newline here!</span>
<span class="nt">\end{proof}</span></code></pre></figure>

<p>We would then get the same result as before originally, when we did not have the extra newline.</p>

<h3 id="spacing">Spacing</h3>
<p>Spacing matters a lot in readability, as it helps to separate logical components.
For instance, the following example fails to add spacing before the differential
of the variable \(dz\):</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/integral.webp" class="z-depth-1 center" width="500px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Lack of spacing before "dz"
    </figcaption>
</figure>

<p>This might seem innocuous, but consider the following example that makes the issue more explicit:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">P(X) = <span class="k">\int</span> xyz dx</code></pre></figure>

\[P(X) = \int xyz dx\]

<p>Now we can really see that the quantities are running into each other, and it
becomes hard to interpret. Instead, we can add math-mode spacing, summarized in
the following table:</p>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Spacing Expression</th>
      <th>Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\;</code></td>
      <td>Thick space</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\:</code></td>
      <td>Medium space</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\,</code></td>
      <td>Thin space</td>
    </tr>
  </tbody>
</table>

<p>So our new expression now looks like:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">P(X) = <span class="k">\int</span> xyz <span class="k">\,</span> dx</code></pre></figure>

\[P(X) = \int xyz \, dx\]

<p>which is much more readable.</p>

<h3 id="align-environment-for-multiline-equations">
<code class="language-plaintext highlighter-rouge">align*</code> Environment for Multiline Equations</h3>
<p>When using the <code class="language-plaintext highlighter-rouge">align*</code> environment, make sure that your ampersands <code class="language-plaintext highlighter-rouge">&amp;</code> appear before the
symbol that you are aligning against. This ensures that you get the correct spacing.</p>

<p>For instance, the following is wrong, where the <code class="language-plaintext highlighter-rouge">&amp;</code> appears after the <code class="language-plaintext highlighter-rouge">=</code>:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="nt">\begin{align*}</span>
    <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> (<span class="k">\mathbb</span><span class="p">{</span>E<span class="p">}_{</span>x<span class="k">\sim</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}}</span> f(x))  = <span class="p">&amp;</span> <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\int</span><span class="p">_</span>x f(x) q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x) dx                                     <span class="k">\\</span>
                                                    = <span class="p">&amp;</span> <span class="k">\int</span><span class="p">_</span>x f(x) (<span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\log</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x))  q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x) dx                  <span class="k">\\</span>
                                                    = <span class="p">&amp;</span> <span class="k">\mathbb</span><span class="p">{</span>E<span class="p">}_{</span>x <span class="k">\sim</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}}</span> <span class="k">\left</span>(f(x) <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\log</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x)<span class="k">\right</span>)
<span class="nt">\end{align*}</span></code></pre></figure>

\[\begin{align*}
    \nabla_{\mu} (\mathbb{E}_{x\sim q_{\mu}} f(x))  = &amp; \nabla_{\mu} \int_x f(x) q_{\mu}(x) dx                                     \\
                                                    = &amp; \int_x f(x) (\nabla_{\mu} \log q_{\mu}(x))  q_{\mu}(x) dx                  \\
                                                    = &amp; \mathbb{E}_{x \sim q_{\mu}} \left(f(x) \nabla_{\mu} \log q_{\mu}(x)\right)
\end{align*}\]

<p>This is because there is too little spacing after the <code class="language-plaintext highlighter-rouge">=</code> sign on each line, which feels very cramped.
Putting the <code class="language-plaintext highlighter-rouge">&amp;</code> before the <code class="language-plaintext highlighter-rouge">=</code> is correct:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="nt">\begin{align*}</span>
    <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> (<span class="k">\mathbb</span><span class="p">{</span>E<span class="p">}_{</span>x<span class="k">\sim</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}}</span> f(x)) <span class="p">&amp;</span> = <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\int</span><span class="p">_</span>x f(x) q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x) dx                                     <span class="k">\\</span>
                                                   <span class="p">&amp;</span> =  <span class="k">\int</span><span class="p">_</span>x f(x) (<span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\log</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x))  q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x) dx                 <span class="k">\\</span>
                                                   <span class="p">&amp;</span> = <span class="k">\mathbb</span><span class="p">{</span>E<span class="p">}_{</span>x <span class="k">\sim</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}}</span> <span class="k">\left</span>(f(x) <span class="k">\nabla</span><span class="p">_{</span><span class="k">\mu</span><span class="p">}</span> <span class="k">\log</span> q<span class="p">_{</span><span class="k">\mu</span><span class="p">}</span>(x)<span class="k">\right</span>)
<span class="nt">\end{align*}</span></code></pre></figure>

\[\begin{align*}
    \nabla_{\mu} (\mathbb{E}_{x\sim q_{\mu}} f(x)) &amp; = \nabla_{\mu} \int_x f(x) q_{\mu}(x) dx                                     \\
                                                   &amp; =  \int_x f(x) (\nabla_{\mu} \log q_{\mu}(x))  q_{\mu}(x) dx                 \\
                                                   &amp; = \mathbb{E}_{x \sim q_{\mu}} \left(f(x) \nabla_{\mu} \log q_{\mu}(x)\right)
\end{align*}\]

<p>The spacing is much more comfortable now.</p>

<h2 id="command-mistakes">Command Mistakes</h2>
<p>We now look at some mistakes that arise from using the wrong commands.</p>

<h3 id="math-operators">Math Operators</h3>
<p>Instead of <code class="language-plaintext highlighter-rouge">sin (x)</code> \((sin(x))\) or <code class="language-plaintext highlighter-rouge">log (x)</code> \((log (x))\), use <code class="language-plaintext highlighter-rouge">\sin (x)</code> \((\sin (x))\)
and <code class="language-plaintext highlighter-rouge">\log (x)</code> \((\log (x))\). The idea extends to many other common math functions.
These are math operators that will de-italicize the commands
and also take care of the appropriate math-mode spacing between characters:</p>

<table class="table table-sm">
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">O(n log n)</code></td>
      <td>\(O(n log n)\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">O(n \log n)</code></td>
      <td>\(O(n \log n)\)</td>
    </tr>
  </tbody>
</table>

<p>Many times there is a math operator that you need to use repeatedly, but which does
not come out of the box. You can define custom math operators with
the <code class="language-plaintext highlighter-rouge">\DeclareMathOperator</code> command. For instance, here are some commonly used in probability:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\Pr</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>Pr<span class="p">}}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\E</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>E<span class="p">}}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\Ex</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>E<span class="p">}}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\Var</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>Var<span class="p">}}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\Cov</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>Cov<span class="p">}}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\stddev</span><span class="p">}{</span><span class="k">\mathbf</span><span class="p">{</span>stddev<span class="p">}}</span></code></pre></figure>

<p>Then you can use it as follows:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\Pr</span> <span class="k">\left</span><span class="na">[ X \geq a \right]</span> <span class="k">\leq</span> <span class="k">\frac</span><span class="p">{</span><span class="k">\Ex</span><span class="na">[X]</span><span class="p">}{</span>a<span class="p">}</span></code></pre></figure>

\[\Pr \left[ X \geq a \right] \leq \frac{\Ex[X]}{a}\]

<h3 id="double-quotes">Double quotes</h3>
<p>This is more of a rookie mistake since it’s visually very obvious something is
wrong. Double quotes don’t work the way you would expect:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\text</span><span class="p">{</span>"Hello World!"<span class="p">}</span></code></pre></figure>

\[\text{"Hello World!"}\]

<p>Instead, surround them in double backticks and single quotes, which is 
supposed to be reminiscent of the directional strokes of an actual double quote.
This allows it to know which side to orient the ticks:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\text</span><span class="p">{</span>``Hello World!''<span class="p">}</span></code></pre></figure>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/quotes.webp" class="z-depth-1 center" width="100px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Output of correct usage of quotes
    </figcaption>
</figure>

<p>Unfortunately I had to demonstrate this with a screenshot since MathJax only
performs math-mode typesetting, but this is an instance of text-mode typesetting.</p>

<h3 id="epsilons">Epsilons</h3>
<p>This is a common mistake due to laziness. Many times, people use <code class="language-plaintext highlighter-rouge">\epsilon</code> (\(\epsilon\))
when they really meant to write <code class="language-plaintext highlighter-rouge">\varepsilon</code> (\(\varepsilon\)). For instance, in analysis
this is usually the case, and therefore writing <code class="language-plaintext highlighter-rouge">\epsilon</code> results in a very uncomfortable
read:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/epsilon-wrong.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Using "\epsilon" looks weird
    </figcaption>
</figure>

<p>Using <code class="language-plaintext highlighter-rouge">\varepsilon</code> makes the reader feel much more at peace:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/epsilon-right.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      "\varepsilon" is usually what should be used
    </figcaption>
</figure>

<p>Similarly, people tend to get lazy and mix up <code class="language-plaintext highlighter-rouge">\phi, \Phi, \varphi</code> (\(\phi, \Phi, \varphi\)),
since they are “about the same”.  Details matter!</p>

<h3 id="sets-mathbbm-instead-of-mathbb">Sets: <code class="language-plaintext highlighter-rouge">mathbbm</code> Instead Of <code class="language-plaintext highlighter-rouge">mathbb</code>
</h3>
<p>For sets like \(\mathbb{N}\), you should use <code class="language-plaintext highlighter-rouge">\mathbbm{N}</code>
(from <code class="language-plaintext highlighter-rouge">bbm</code> package) instead of <code class="language-plaintext highlighter-rouge">mathbb{N}</code> (from <code class="language-plaintext highlighter-rouge">amssymb</code>). See the
difference in how the rendering of the set of natural numbers
\(\mathbb{N}\) differs, using the same example as the previous section:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/mathbbm.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Use `mathbbm` instead of `mathbb`
    </figcaption>
</figure>

<p><code class="language-plaintext highlighter-rouge">mathbbm</code> causes the symbols to be bolded, which is what you want.</p>

<h3 id="dots">Dots</h3>
<p><code class="language-plaintext highlighter-rouge">...</code>  and <code class="language-plaintext highlighter-rouge">\dots</code> are different. See the difference:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex">X = <span class="k">\left</span>( X<span class="p">_</span>1, ..., X<span class="p">_</span>n <span class="k">\right</span>)
X = <span class="k">\left</span>( X<span class="p">_</span>1, <span class="k">\dots</span>, X<span class="p">_</span>n <span class="k">\right</span>)</code></pre></figure>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/dots.webp" class="z-depth-1 center" width="300px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Output of "..." versus "\dots"
    </figcaption>
</figure>

<p>When using “…”, the spacing between each dot, and between the final dot
and the comma character is wrong. Always use “\dots”.</p>

<h3 id="summation-and-product">Summation and Product</h3>
<p>When writing summation or products of terms, use <code class="language-plaintext highlighter-rouge">\sum</code> and <code class="language-plaintext highlighter-rouge">\prod</code> instead of <code class="language-plaintext highlighter-rouge">\Sigma</code> and <code class="language-plaintext highlighter-rouge">\Pi</code>. This helps to handle the
relative positioning of the limits properly, and is much more idiomatic to read
from the raw script:</p>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Raw LaTeX</th>
      <th>Rendered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\Sigma_{i=1}^n X_i</code></td>
      <td>\(\Sigma_{i=1}^n X_i\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\sum_{i=1}^n X_i</code></td>
      <td>\(\sum_{i=1}^n X_i\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\Pi_{i=1}^n X_i</code></td>
      <td>\(\Pi_{i=1}^n X_i\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\prod_{i=1}^n X_i</code></td>
      <td>\(\prod_{i=1}^n X_i\)</td>
    </tr>
  </tbody>
</table>

<h3 id="multiplication">Multiplication</h3>
<p>To denote multiplication, use <code class="language-plaintext highlighter-rouge">\cdot</code> or <code class="language-plaintext highlighter-rouge">times</code> instead of <code class="language-plaintext highlighter-rouge">*</code>. See the difference below
in the equation:</p>

<figure>
  <picture>
    

    <!-- Fallback to the original file -->
    <img src="/assets/img/posts/latex-mistakes/multiplication.webp" class="z-depth-1 center" width="600px" height="auto" style="object-fit: cover" onerror="this.onerror=null; $('.responsive-img-srcset').remove();">

  </picture><figcaption class="caption">
      Use "\cdot" looks much better than "*"
    </figcaption>
</figure>

<h3 id="mid">Mid</h3>
<p>For set builder notation or conditional probability, use <code class="language-plaintext highlighter-rouge">\mid</code> instead of the pipe <code class="language-plaintext highlighter-rouge">|</code>.
This helps to handle the spacing between the terms properly:</p>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Raw LaTeX</th>
      <th>Rendered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">p(\mathbf{z}, \mathbf{x}) = p(\mathbf{z}) p(\mathbf{z} | \mathbf{z})</code></td>
      <td>\(p(\mathbf{z}, \mathbf{x}) = p(\mathbf{z}) p(\mathbf{z} | \mathbf{z})\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">p(\mathbf{z}, \mathbf{x}) = p(\mathbf{z}) p(\mathbf{z} \mid \mathbf{z})</code></td>
      <td>\(p(\mathbf{z}, \mathbf{x}) = p(\mathbf{z}) p(\mathbf{z} \mid \mathbf{z})\)</td>
    </tr>
  </tbody>
</table>

<h3 id="angle-brackets">Angle Brackets</h3>
<p>When writing vectors, use the <code class="language-plaintext highlighter-rouge">\langle</code> and <code class="language-plaintext highlighter-rouge">\rangle</code> instead of the keyboard angle brackets:</p>

<table class="table table-bordered table-sm">
  <thead>
    <tr>
      <th>Raw LaTeX</th>
      <th>Rendered</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;u, v&gt;</code></td>
      <td>\(&lt;u, v&gt;\)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">\langle u, v \rangle</code></td>
      <td>\(\langle u, v \rangle\)</td>
    </tr>
  </tbody>
</table>

<h3 id="labels">Labels</h3>
<p>Use <code class="language-plaintext highlighter-rouge">\label</code> to label your figures, equations, tables, and so on, and reference them using <code class="language-plaintext highlighter-rouge">\ref</code>, instead of hardcoding the number. 
For instance, <code class="language-plaintext highlighter-rouge">\label{fig:myfig}</code> and <code class="language-plaintext highlighter-rouge">\ref{fig:myfig}</code>.
Including the type of the object in the tag helps to keep track
of what it is and ensures that you are referencing it correctly, i.e
making sure you write <code class="language-plaintext highlighter-rouge">Figure \ref{fig:myfig}</code> instead of accidentally saying
something like <code class="language-plaintext highlighter-rouge">Table \ref{fig:myfig}</code>.</p>

<h2 id="conclusion">Conclusion</h2>
<p>That was a lot, and I hope it has been a helpful read! 
I will continue updating this post in the future as and when I feel like
there are other important things which should be noted which I missed.</p>

<p>I would like to thank my friend <a href="https://github.com/zack-lee" rel="external nofollow noopener" target="_blank">Zack Lee</a> for reviewing this
article and for providing valuable suggestions.
I would also like to express my thanks to <a href="http://www.cs.cmu.edu/~odonnell/" rel="external nofollow noopener" target="_blank">Ryan
O’Donnell</a>, and my 15-751 A Theorist’s Toolkit
TAs <a href="https://jthsieh.github.io/" rel="external nofollow noopener" target="_blank">Tim Hsieh</a> and <a href="https://www.cs.cmu.edu/~eyolcu/" rel="external nofollow noopener" target="_blank">Emre
Yolcu</a> for helping me realize a lot of the
style-related LaTeX issues mentioned in this post, many of which I made
personally in the past.</p>

    </div>
  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <!-- <p class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</p> -->
    <p class="mb-2">Related Posts:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/setting-up-yuancon-controller-sound-voltex/">Playing Sound Voltex at Home: Setting Up Unnamed SDVX Clone with the Yuancon SDVX Controller</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/creating-trackback-requests/">Creating Trackback Requests for Static Sites</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/high-dimensional-analysis-of-m-estimators/">A Unified Framework for High-Dimensional Analysis of M-Estimators with Decomposable Regularizers: A Guided Walkthrough</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/cmu-steam-tunnels/">The CMU Steam Tunnels and Wean 9</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/advanced-operating-systems-course-review/">CMU 15712 Advanced Operating Systems and Distributed Systems Course Review</a>
  </li>

<div id="giscus_thread" style="max-width: 800px; margin: 0 auto;">
  <script>
    let giscusTheme = localStorage.getItem("theme");
    let giscusAttributes = {
        "src": "https://giscus.app/client.js",
        "data-repo": "fanpu/website",
        "data-repo-id": "R_kgDOIpOodA",
        "data-category": "General",
        "data-category-id": "DIC_kwDOIpOodM4CTKDC",
        "data-mapping": "title",
        "data-strict": "1",
        "data-reactions-enabled": "1",
        "data-emit-metadata": "0",
        "data-input-position": "top",
        "data-theme": giscusTheme,
        "data-lang": "en",
        "crossorigin": "anonymous",
        "async": "",
    };


    let giscusScript = document.createElement("script");
    Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value));
    document.getElementById("giscus_thread").appendChild(giscusScript);
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a>
</noscript>
</div>
</div>

          </div>
        </div>
        
      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Fan Pu  Zeng. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme.
Last updated: August 06, 2024.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Enable Tooltips -->
  <script type="text/javascript">
  $(function () {$('[data-toggle="tooltip"]').tooltip()})
  </script>
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>
  <!-- Sidebar Table of Contents -->
  <script defer src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>


  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      loader: {load: ['[tex]/mathtools']},
      tex: {
        packages: {'[+]': ['mathtools', 'ams']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          addMenu: []
        }
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
